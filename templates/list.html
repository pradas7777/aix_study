{% extends "base.html" %}

{% block title %}{{ board_title }} ëª©ë¡ - AI+X ì‹ ë¦¼ {% endblock %}

{% block content %}
<h2>{{ board_title }}</h2>
<form method="get" action="/board/{{ post_type }}" style="margin-bottom: 20px;">
    <input
        type="text"
        name="q"
        value="{{ q or '' }}"
        placeholder="ì œëª© / ë‚´ìš©"
        style="padding: 6px; width: 220px;"
    >
    <button type="submit" class="btn btn-small">ê²€ìƒ‰</button>
</form>

<div style="margin-bottom: 20px; text-align: left;">
    <a href="/board/{{ post_type }}/write" class="btn">ê¸€ ì“°ëŸ¬ ê°€ê¸°</a>
</div>

{% for post in posts %}
<div class="card">
    <h3>
        <a href="/post/{{ post.id }}">{{ post.title }}</a>
        
        {# ê´€ë¦¬ìì¼ ë•Œë§Œ ì‚­ì œ ë²„íŠ¼ í‘œì‹œ #}
        {% if is_admin %}
        <form method="post" action="/post/{{ post.id }}/delete" 
                onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');"
                style="display: inline; float: right;">
            <input type="hidden" name="post_type" value="{{ post_type }}">
            <button type="submit" class="admin-delete-btn">ğŸ—‘ ì‚­ì œ</button>
        </form>
        {% endif %}
    </h3>
    <div class="meta">
        ì‘ì„±ì: {{ post.author.nickname }} | {{ post.created_at.strftime('%Y-%m-%d') }}| {% include "_views.html" %}
    </div>
</div>
{% else %}
<p>ë“±ë¡ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
{% endfor %}

<div style="margin-top: 30px;">
    <a href="/" class="btn btn-small" style="background: #95a5a6;">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
</div>
{% endblock %}