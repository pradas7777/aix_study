{% extends "base.html" %}

{% block title %}{{ board_title }} - AI+X ì‹ ë¦¼ í™”ì´íŒ… {% endblock %}

{% block content %}

<h2>{{ board_title }}</h2>

<div class="card" style="background: #f0f7ff;">
    <h3>ìƒˆ ê¸€ ì“°ê¸°</h3>
    <form action="/post/create" method="post">
        <input type="hidden" name="type" value="{{ post_type }}">
        <div>
            <input type="text" name="title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
        </div>
        <div>
            <textarea name="content" rows="4" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required></textarea>
        </div>
        <button type="submit" class="btn">ì˜¬ë¦¬ê¸°</button>
    </form>
</div>

<hr>

{% if is_admin %}
<form method="post" action="/post/{{ post.id }}/delete"
      onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
  <button type="submit">ğŸ—‘ ì‚­ì œ</button>
</form>
{% endif %}


{% for post in posts %}
<div class="card">
    <h3><a href="/post/{{ post.id }}">{{ post.title }}</a></h3>
    <div class="meta">
        ì‘ì„±ì: {{ post.author.nickname }} | ë‚ ì§œ: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}
    </div>
    <p>{{ post.content[:100] }}{% if post.content|length > 100 %}...{% endif %}</p>
</div>
{% else %}
<p>ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ê¸€ì„ ë‚¨ê²¨ë³´ì„¸ìš”!</p>
{% endfor %}
{% endblock %}
